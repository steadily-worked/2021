## 3. ë…¸ë“œ ê¸°ëŠ¥

ì´ ì¥ì—ì„œëŠ” ë…¸ë“œì™€ ì²˜ìŒìœ¼ë¡œ ìƒí˜¸ì‘ìš©ì„ í•´ë³´ê³ , ë…¸ë“œë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³¼ ê²ƒì´ë‹¤. ë˜í•œ, ë…¸ë“œê°€ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” ê°ì²´ì™€ ëª¨ë“ˆ ì‚¬ìš©ë²•ë„ ì•Œì•„ë³¼ ê²ƒì´ë‹¤. ëª¨ë“ˆì„ ì‚¬ìš©í•˜ë©´ì„œ ì¤‘ìš”í•œ ê°œë…ì¸ ë²„í¼ì™€ ìŠ¤íŠ¸ë¦¼, ë™ê¸°ì™€ ë¹„ë™ê¸°, ì´ë²¤íŠ¸, ì˜ˆì™¸ ì²˜ë¦¬ì— ëŒ€í•´ì„œë„ ì•Œì•„ë³¼ ê²ƒì´ë‹¤. í•œ ë²ˆì— ì™¸ìš°ë ¤ê³  í•˜ì§€ ë§ê³  ìŠì–´ë²„ë¦´ ë•Œë§ˆë‹¤ ë‹¤ì‹œ ë³´ë©´ ëœë‹¤.

### 3-1. REPL ì‚¬ìš©í•˜ê¸°

ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ìŠ¤í¬ë¦½íŠ¸ ì–¸ì–´ì´ë¯€ë¡œ ë¯¸ë¦¬ ì»´íŒŒì¼ì„ í•˜ì§€ ì•Šì•„ë„ ì¦‰ì„ì—ì„œ ì½”ë“œë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. ì´ì „ ì¥ì—ì„œëŠ” ë¸Œë¼ìš°ì € ì½˜ì†” íƒ­ì—ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì…ë ¥í•´ë´¤ì„ ê²ƒì´ë‹¤. ë…¸ë“œë„ ë¹„ìŠ·í•œ ì½˜ì†”ì„ ì œê³µí•˜ëŠ”ë°, ì…ë ¥í•œ ì½”ë“œë¥¼ ì½ê³ (Read), í•´ì„í•˜ê³ (Eval), ê²°ê³¼ë¬¼ì„ ë°˜í™˜í•˜ê³ (Print), ì¢…ë£Œí•  ë•Œê¹Œì§€ ë°˜ë³µí•œë‹¤(Loop)ë¼ê³  í•´ì„œ `REPL`(Read Eval Print Loop)ì´ë¼ê³  ë¶€ë¥¸ë‹¤.

ë…¸ë“œì˜ REPLì„ ì§ì ‘ ì‚¬ìš©í•´ë³´ì.

```
$ node
>
```

í”„ë¡¬í”„íŠ¸ê°€ > ëª¨ì–‘ìœ¼ë¡œ ë°”ë€Œì—ˆë‹¤ë©´ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì…ë ¥í•  ìˆ˜ ìˆë‹¤. ê°„ë‹¨í•œ ë¬¸ìì—´ì„ ì¶œë ¥í•´ë³´ì.

> ì½˜ì†”

```
> const str = 'Hello world, hello node';
undefined
> console.log(str);
Hello world, hello node
undefined
>
```

ìœ„ì™€ ê°™ì´ ì¶œë ¥ë˜ì—ˆë‹¤ë©´ ì„±ê³µì´ë‹¤. ê°ìê°€ ì…ë ¥í•œ ì½”ë“œë¥¼ REPLì´ ì½ê³ (Read), í•´ì„í•œ(Eval) ë’¤ ë°”ë¡œ ê²°ê³¼ë¬¼ì„ ì¶œë ¥í—€ë‹¤(Print). ê·¸ë¦¬ê³  ì¢…ë£Œë˜ê¸° ì „ê¹Œì§€ ê°ìì˜ ì…ë ¥ì„ ê¸°ë‹¤ë¦°ë‹¤(Loop). REPLì„ ì¢…ë£Œí•˜ë ¤ë©´ `.exit`ì„ ì…ë ¥í•˜ë©´ ëœë‹¤.

REPLì€ í•œë‘ ì¤„ì§œë¦¬ ì½”ë“œë¥¼ í…ŒìŠ¤íŠ¸í•´ë³´ëŠ” ìš©ë„ë¡œëŠ” ì¢‹ì§€ë§Œ ì—¬ëŸ¬ ì¤„ì˜ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê¸°ì—ëŠ” ë¶ˆí¸í•˜ë‹¤. ê¸´ ì½”ë“œì¸ ê²½ìš°ì—ëŠ” ì½”ë“œë¥¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ë¡œ ë§Œë“  í›„ íŒŒì¼ì„ í†µì§¸ë¡œ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì´ì œ JS íŒŒì¼ì„ ë§Œë“¤ì–´ ì‹¤í–‰í•´ë³´ì.

### 3-2. JS íŒŒì¼ ì‹¤í–‰í•˜ê¸°

REPLì— ì§ì ‘ ì½”ë“œë¥¼ ì…ë ¥í•˜ëŠ” ëŒ€ì‹  ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ ë§Œë“¤ì–´ ì‹¤í–‰í•  ê²ƒì´ë‹¤. ë‹¤ìŒê³¼ ê°™ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ ë§Œë“¤ì–´ë³´ì.

> helloWorld.js

```js
helloWorld = () => {
  console.log("hello world");
  helloNode();
};

helloNode = () => {
  console.log("hello Node");
};

helloWorld();
```

ì½˜ì†”ì—ì„œ `node [ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ ê²½ë¡œ]`ë¡œ ì‹¤í–‰í•œë‹¤. í™•ì¥ì(`.js`)ëŠ” ìƒëµí•´ë„ ëœë‹¤. REPLì—ì„œ ì…ë ¥í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¯€ë¡œ ì£¼ì˜í•˜ì. REPLì´ ì•„ë‹ˆë¼ ì½˜ì†”ì—ì„œ ì…ë ¥í•´ì•¼ í•œë‹¤.

> ì½˜ì†”

```
$ node helloWorld
hello world
hello Node
```

### 3-3. ëª¨ë“ˆë¡œ ë§Œë“¤ê¸°

ë…¸ë“œëŠ” ì½”ë“œë¥¼ ëª¨ë“ˆë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤ëŠ” ì ì—ì„œ ë¸Œë¼ìš°ì €ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ì™€ ë‹¤ë¥´ë‹¤. **ëª¨ë“ˆ**ì´ë€ íŠ¹ì •í•œ ê¸°ëŠ¥ì„ í•˜ëŠ” í•¨ìˆ˜ë‚˜ ë³€ìˆ˜ë“¤ì˜ ì§‘í•©ì´ë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ìˆ˜í•™ì— ê´€ë ¨ëœ ì½”ë“œë“¤ë§Œ ëª¨ì•„ì„œ ëª¨ë“ˆì„ í•˜ë‚˜ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ëª¨ë“ˆì€ ìì²´ë¡œë„ í•˜ë‚˜ì˜ í”„ë¡œê·¸ë¨ì´ë©´ì„œ ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ì˜ ë¶€í’ˆìœ¼ë¡œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ëª¨ë“ˆë¡œ ë§Œë“¤ì–´ë‘ë©´ ì—¬ëŸ¬ í”„ë¡œê·¸ë¨ì— í•´ë‹¹ ëª¨ë“ˆì„ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•˜ê¸° ìœ„í•´ í•¨ìˆ˜ë¡œ ë§Œë“œëŠ” ê²ƒê³¼ ë¹„ìŠ·í•˜ë‹¤.

ë³´í†µ íŒŒì¼ í•˜ë‚˜ê°€ ëª¨ë“ˆ í•˜ë‚˜ê°€ ëœë‹¤. íŒŒì¼ë³„ë¡œ ì½”ë“œë¥¼ ëª¨ë“ˆí™”í•  ìˆ˜ ìˆì–´ ê´€ë¦¬í•˜ê¸° í¸í•˜ë‹¤.

> **ë¸Œë¼ìš°ì €ì˜ ëª¨ë“ˆ**
>
> 2015ë…„ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ë„ `import/export`ë¼ëŠ” ëª¨ë“ˆ ê°œë…ì´ ë„ì…ë˜ì—ˆì§€ë§Œ, ë¸Œë¼ìš°ì €ì—ëŠ” êµ¬í˜„ë˜ì§€ ì•Šì•„ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ì—ˆë‹¤. í¬ë¡¬ 60 ë²„ì „ë¶€í„° ë“œë””ì–´ ë¸Œë¼ìš°ì €ì—ì„œë„ ëª¨ë“ˆì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. ì•ìœ¼ë¡œ ë” ë§ì€ ë¸Œë¼ìš°ì €ê°€ ëª¨ë“ˆ ì‹œìŠ¤í…œì„ ì§€ì›í•  ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤.

ì‹¤ì œë¡œ ëª¨ë“ˆì„ ë§Œë“¤ì–´ë³´ì. ëª¨ë“ˆì„ ë§Œë“¤ ë•ŒëŠ” ëª¨ë“ˆì´ ë  íŒŒì¼ê³¼ ëª¨ë“ˆì„ ë¶ˆëŸ¬ì™€ì„œ ì‚¬ìš©í•  íŒŒì¼ì´ í•„ìš”í•˜ë‹¤.

var.jsì™€ func.js, index.jsë¥¼ ê°™ì€ í´ë”ì— ë§Œë“¤ì. ë¨¼ì € var.jsë¥¼ ì‘ì„±í•œë‹¤.

> var.js

```js
const odd = "í™€ìˆ˜";
const even = "ì§ìˆ˜";

module.exports = {
  odd,
  even,
};
```

var.jsì— ë³€ìˆ˜ ë‘ ê°œë¥¼ ì„ ì–¸í–ˆë‹¤. ê·¸ë¦¬ê³  `module.exports`ì— ë³€ìˆ˜ë“¤ì„ ë‹´ì€ ê°ì²´ë¥¼ ëŒ€ì…í•œë‹¤. ì´ì œ ì´ íŒŒì¼ì€ ëª¨ë“ˆë¡œì„œ ê¸°ëŠ¥í•œë‹¤. ë³€ìˆ˜ë“¤ì„ ëª¨ì•„ë‘” ëª¨ë“ˆì´ ë˜ëŠ” ê²ƒì´ë‹¤. ë‹¤ë¥¸ íŒŒì¼ì—ì„œ ì´ íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¤ë©´ `module.exports`ì— ëŒ€ì…ëœ ê°’ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ì´ë²ˆì—ëŠ” var.jsë¥¼ ì°¸ì¡°í•˜ëŠ” func.jsë¥¼ ì‘ì„±í•˜ì.

> func.js

```js
const { odd, even } = require("./var");

checkOddOrEven = (num) => {
  if (num % 2) {
    return odd;
  }
  return even;
};

module.exports = checkOddOrEven;
```

require í•¨ìˆ˜ ì•ˆì— ë¶ˆëŸ¬ì˜¬ ëª¨ë“ˆì˜ ê²½ë¡œë¥¼ ì ëŠ”ë‹¤. ìœ„ ì˜ˆì œì—ì„œëŠ” ê°™ì€ í´ë” ì•ˆì— íŒŒì¼ì„ ë§Œë“¤ì—ˆì§€ë§Œ, ë‹¤ë¥¸ í´ë” ì•ˆì— ìˆëŠ” íŒŒì¼ë„ ëª¨ë“ˆë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. require í•¨ìˆ˜ì˜ ì¸ìˆ˜ë¡œ ì œê³µí•˜ëŠ” ê²½ë¡œë§Œ ì˜ ì§€ì •í•˜ë©´ ëœë‹¤. íŒŒì¼ ê²½ë¡œì—ì„œ jsë‚˜ json ê°™ì€ í™•ì¥ìëŠ” ìƒëµí•  ìˆ˜ ìˆë‹¤.

ì˜ˆì œ ì½”ë“œì—ì„œ require í•¨ìˆ˜ë¡œ var.jsì— ìˆë˜ ê°’ë“¤ì„ ë¶ˆëŸ¬ì˜¤ê³  ìˆë‹¤. var.jsì˜ `module.exports`ì— ë‹´ê²¨ ìˆë˜ ê°ì²´ë¥¼ ë¶ˆëŸ¬ì™€ func.jsì—ì„œ ì‚¬ìš©í•˜ëŠ” ëª¨ìŠµì´ë‹¤.

var.jsì—ì„œ ë³€ìˆ˜ë¥¼ ë¶ˆëŸ¬ì˜¨ ë’¤, ìˆ«ìì˜ í™€ì§ì„ íŒë³„í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì„ ì–¸í–ˆë‹¤. ê·¸ë¦¬ê³  ë‹¤ì‹œ `module.exports`ì— í•¨ìˆ˜ë¥¼ ëŒ€ì…í–ˆë‹¤. ì´ë ‡ê²Œ ë‹¤ë¥¸ ëª¨ë“ˆ(var.js)ì„ ì‚¬ìš©í•˜ëŠ” íŒŒì¼ì„ ë‹¤ì‹œ ëª¨ë“ˆ(func.js)ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ë˜í•œ, `module.exports`ì—ëŠ” ê°ì²´ë§Œ ëŒ€ì…í•´ì•¼ í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ í•¨ìˆ˜ë‚˜ ë³€ìˆ˜ë¥¼ ëŒ€ì…í•´ë„ ëœë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ index.jsë¥¼ ì‘ì„±í•˜ì.

> index.js

```js
const { odd, even } = require("./var");
const checkNumber = require("./func");

checkStringOddOrEven = (str) => {
  if (str.length % 2) {
    // í™€ìˆ˜ë©´
    return odd;
  }
  return even;
};

console.log(checkNumber(10));
console.log(checkStringOddOrEven("hello"));
```

index.jsëŠ” var.jsì™€ func.jsë¥¼ ëª¨ë‘ ì°¸ì¡°í•œë‹¤. ëª¨ë“ˆ í•˜ë‚˜ê°€ ì—¬ëŸ¬ ê°œì˜ ëª¨ë“ˆì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤. ë˜í•œ, var.jsê°€ func.jsì™€ index.jsì— ë‘ ë²ˆ ì“°ì´ëŠ” ê²ƒì²˜ëŸ¼, ëª¨ë“ˆ í•˜ë‚˜ê°€ ì—¬ëŸ¬ ê°œì˜ ëª¨ë“ˆì— ì‚¬ìš©ë  ìˆ˜ë„ ìˆë‹¤.

ëª¨ë“ˆë¡œë¶€í„° ê°’ì„ ë¶ˆëŸ¬ì˜¬ ë•Œ ë³€ìˆ˜ ì´ë¦„ì„ ë‹¤ë¥´ê²Œ ì§€ì •í•  ìˆ˜ë„ ìˆë‹¤. func.jsì˜ `checkOddOrEven`ì´ `checkNumber`ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©ë˜ê³  ìˆë‹¤.

index.jsë¥¼ ì‹¤í–‰í•´ë³´ë©´, ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

> ì½˜ì†”

```
$ node index
ì§ìˆ˜
í™€ìˆ˜
```

ì´ë ‡ê²Œ ì—¬ëŸ¬ íŒŒì¼ì— ê±¸ì³ ì¬ì‚¬ìš©ë˜ëŠ” í•¨ìˆ˜ë‚˜ ë³€ìˆ˜ë¥¼ ëª¨ë“ˆë¡œ ë§Œë“¤ì–´ì£¼ë©´ í¸ë¦¬í•˜ë‹¤. ê·¸ëŸ¬ë‚˜ ëª¨ë“ˆì´ ë§ì•„ì§€ê³  ëª¨ë“ˆ ê°„ì˜ ê´€ê³„ê°€ ì–½íˆê²Œ ë˜ë©´ êµ¬ì¡°ë¥¼ íŒŒì•…í•˜ê¸° ì–´ë µë‹¤ëŠ” ë‹¨ì ë„ ìˆë‹¤. ë…¸ë“œì—ì„œëŠ” ëŒ€ë¶€ë¶„ì˜ íŒŒì¼ì´ ë‹¤ë¥¸ íŒŒì¼ì„ ëª¨ë“ˆë¡œ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë¯€ë¡œ ëª¨ë“ˆì„ ë§Œë“¤ê³  ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ê¼­ ì•Œì•„ë‘¬ì•¼ í•œë‹¤.

> Note: ES6 ëª¨ë“ˆ
>
> ES6ì´ ë„ì…ë˜ë©´ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë„ ìì²´ ëª¨ë“ˆ ì‹œìŠ¤í…œ ë¬¸ë²•ì´ ìƒê²¼ë‹¤. ì´ ë¬¸ë²•ì€ ë…¸ë“œì˜ ëª¨ë“ˆ ì‹œìŠ¤í…œê³¼ ì¡°ê¸ˆ ë‹¤ë¥´ë‹¤. ë³¸ë¬¸ì˜ func.jsë¥¼ ES6 ëª¨ë“ˆ ìŠ¤íƒ€ì¼ë¡œ ë°”ê¿” ë³¼ ê²ƒì´ë‹¤.
>
> **func.mjs**
>
> ```js
> import { odd, even } from "./var";
>
> checkOddOrEven = (num) => {
>   if (num % 2) {
>     return odd;
>   }
>   return even;
> };
>
> export default checkOddOrEven;
> ```
>
> `require`ì™€ `module.exports`ê°€ `import`, `export default`ë¡œ ë°”ë€Œì—ˆë‹¤. ìƒë‹¹í•œ ë¶€ë¶„ì—ì„œ ì°¨ì´ê°€ ìˆìœ¼ë¯€ë¡œ ë‹¨ìˆœíˆ ê¸€ìë§Œ ë°”ê¿”ì„œëŠ” ì œëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. ë‹¤í–‰íˆ ìœ„ì—ì„œëŠ” requireë¥¼ importë¡œ, module.exportsë¥¼ export defaultë¡œ ë°”ê¾¸ê¸°ë§Œ í•˜ë©´ ëœë‹¤.
>
> ë…¸ë“œì—ì„œë„ 9 ë²„ì „ë¶€í„° ES6ì˜ ëª¨ë“ˆ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ íŒŒì¼ì˜ í™•ì¥ìë¥¼ mjsë¡œ ì§€ì •í•´ì•¼ í•˜ëŠ” ì œí•œì´ ìˆë‹¤. mjs í™•ì¥ì ëŒ€ì‹  js í™•ì¥ìë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ES6 ëª¨ë“ˆì„ ì‚¬ìš©í•˜ë ¤ë©´ ì´í›„ ë°°ìš¸ `package.json`ì— `type: "module"` ì†ì„±ì„ ë„£ìœ¼ë©´ ëœë‹¤.

ë°©ê¸ˆ ì¼ë˜ require í•¨ìˆ˜ë‚˜ module ê°ì²´ëŠ” ë”°ë¡œ ì„ ì–¸í•˜ì§€ ì•Šì•˜ìŒì—ë„ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆë‹¤. ì´ê²ƒì´ ì–´ë–»ê²Œ ê°€ëŠ¥í• ê¹Œ? ë°”ë¡œ ë…¸ë“œì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” ë‚´ì¥ ê°ì²´ì´ê¸° ë•Œë¬¸ì´ë‹¤. ì´ì œ ë‚´ì¥ ê°ì²´ë¥¼ ìì„¸íˆ ì•Œì•„ë³´ì.

### 3-4. ë…¸ë“œ ë‚´ì¥ ê°ì²´ ì•Œì•„ë³´ê¸°

ë…¸ë“œì—ì„œëŠ” ê¸°ë³¸ì ì¸ ë‚´ì¥ ê°ì²´ì™€ ë‚´ì¥ ëª¨ë“ˆ(3.5 ì°¸ì¡°)ì„ ì œê³µí•œë‹¤. ë”°ë¡œ ì„¤ì¹˜í•˜ì§€ ì•Šì•„ë„ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, ë¸Œë¼ìš°ì €ì˜ `window` ê°ì²´ì™€ ë¹„ìŠ·í•˜ë‹¤ê³  ë³´ë©´ ëœë‹¤.

ì´ë²ˆì—ëŠ” ë…¸ë“œ í”„ë¡œê·¸ë˜ë°ì„ í•  ë•Œ ë§ì´ ì“°ì´ëŠ” ë‚´ì¥ ê°ì²´ë¥¼ ì•Œì•„ ë³¼ ê²ƒì´ë‹¤.

#### 3-4-1. global

ë¨¼ì € global ê°ì²´ì´ë‹¤. ë¸Œë¼ìš°ì €ì˜ windowì™€ ê°™ì€ ì „ì—­ ê°ì²´ì´ë‹¤. ì „ì—­ ê°ì²´ì´ë¯€ë¡œ ëª¨ë“  íŒŒì¼ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. ë˜í•œ, window.open ë©”ì†Œë“œë¥¼ ê·¸ëƒ¥ openìœ¼ë¡œ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ê²ƒì²˜ëŸ¼ globalë„ ìƒëµí•  ìˆ˜ ìˆë‹¤. ì´ì „ ì ˆì—ì„œ ì‚¬ìš©í–ˆë˜ require í•¨ìˆ˜ë„ global.requireì—ì„œ globalì´ ìƒëµëœ ê²ƒì´ë‹¤. ë…¸ë“œ ì½˜ì†”ì— ë¡œê·¸ë¥¼ ê¸°ë¡í•˜ëŠ” console ê°ì²´ë„ ì›ë˜ëŠ” global.consoleì´ë‹¤.

global ê°ì²´ ë‚´ë¶€ì—ëŠ” ë§¤ìš° ë§ì€ ì†ì„±ì´ ë“¤ì–´ ìˆë‹¤. ì´ ì ˆì—ì„œ ë°°ìš¸ ë‚´ìš©ë“¤ì´ global ê°ì²´ ì•ˆì— ìˆë‹¤. ë‚´ë¶€ë¥¼ ë³´ë ¤ë©´ REPLì„ ì´ìš©í•´ì•¼ í•œë‹¤.

> Note: ë…¸ë“œì˜ window, document ê°ì²´
>
> ë…¸ë“œì— DOMì´ë‚˜ BOMì´ ì—†ìœ¼ë¯€ë¡œ windowì™€ document ê°ì²´ëŠ” ë…¸ë“œì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ë…¸ë“œì—ì„œ window ë˜ëŠ” documentë¥¼ ì‚¬ìš©í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

ë…¸ë“œ ë²„ì „ì— ë”°ë¼ ì½˜ì†” ë‚´ìš©ì´ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤. ë‚´ìš©ì´ ë„ˆë¬´ ë§ì•„ ì¤„ì˜€ì§€ë§Œ, global ê°ì²´ ì•ˆì—ëŠ” ìˆ˜ì‹­ ê°€ì§€ì˜ ì†ì„±ì´ ë‹´ê²¨ ìˆë‹¤. ëª¨ë‘ ì•Œ í•„ìš”ëŠ” ì—†ìœ¼ë¯€ë¡œ, ìì£¼ ì‚¬ìš©í•˜ëŠ” ì†ì„±ë“¤ë§Œ ì•Œì•„ ë³¼ ê²ƒì´ë‹¤.

ì „ì—­ ê°ì²´ë¼ëŠ” ì ì„ ì´ìš©í•˜ì—¬ íŒŒì¼ ê°„ì— ë°ì´í„°ë¥¼ ê³µìœ í•  ë•Œ ì‚¬ìš©í•˜ê¸°ë„ í•œë‹¤. globalA.jsì™€ globalB.jsë¥¼ ê°™ì€ í´ë”ì— ìƒì„±í•˜ì.

> globalA.js

```js
module.exports = () => global.message;
```

> globalB.js

```js
const A = require("./globalA");

global.mesage = "ì•ˆë…•í•˜ì„¸ìš”";
console.log(A());
```

globalA ëª¨ë“ˆì˜ í•¨ìˆ˜ëŠ” global.message ê°’ì„ ë°˜í™˜í•œë‹¤. globalB.jsì—ì„œëŠ” global ê°ì²´ì— ì†ì„±ëª…ì´ messageì¸ ê°’ì„ ëŒ€ì…í•˜ê³  globalA ëª¨ë“ˆì˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤. ì½˜ì†” ê²°ê³¼ëŠ” globalBì—ì„œ ë„£ì€ `global.message` ê°’ì„ globalAì—ì„œë„ ì ‘ê·¼í•  ìˆ˜ ìˆìŒì„ ë³´ì—¬ì¤€ë‹¤.

> ì½˜ì†”

```
$ node globalB
ì•ˆë…•í•˜ì„¸ìš”
```

> ğŸš«Warning: global ê°ì²´ì˜ ë‚¨ìš©
>
> global ê°ì²´ì˜ ì†ì„±ì— ê°’ì„ ëŒ€ì…í•˜ì—¬ íŒŒì¼ ê°„ì— ë°ì´í„°ë¥¼ ê³µìœ í•  ìˆ˜ ìˆì§€ë§Œ, ì´ë¥¼ ë‚¨ìš©í•˜ì§€ ë§ ê²ƒ. í”„ë¡œê·¸ë¨ì˜ ê·œëª¨ê°€ ì»¤ì§ˆìˆ˜ë¡ ì–´ë–¤ íŒŒì¼ì—ì„œ global ê°ì²´ì— ê°’ì„ ëŒ€ì…í–ˆëŠ”ì§€ ì°¾ê¸° í˜ë“¤ì–´ì ¸ ìœ ì§€ ë³´ìˆ˜ì— ì–´ë ¤ì›€ì„ ê²ªê²Œ ë˜ê¸° ë•Œë¬¸ì´ë‹¤. ë‹¤ë¥¸ íŒŒì¼ì˜ ê°’ì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ ëª¨ë“ˆ í˜•ì‹ìœ¼ë¡œ ë§Œë“¤ì–´ì„œ ëª…ì‹œì ìœ¼ë¡œ ê°’ì„ ë¶ˆëŸ¬ì™€ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

#### 3-4-2. console

ì§€ê¸ˆê¹Œì§€ ì‚¬ìš©í–ˆë˜ consoleë„ ë…¸ë“œì—ì„œëŠ” window ëŒ€ì‹  global ê°ì²´ ì•ˆì— ë“¤ì–´ ìˆìœ¼ë©°, ë¸Œë¼ìš°ì €ì—ì„œì˜ consoleê³¼ ê±°ì˜ ë¹„ìŠ·í•˜ë‹¤.

console ê°ì²´ëŠ” ë³´í†µ ë””ë²„ê¹…ì„ ìœ„í•´ ì‚¬ìš©í•œë‹¤. ê°œë°œí•˜ë©´ì„œ ë³€ìˆ˜ì— ê°’ì´ ì œëŒ€ë¡œ ë“¤ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ê³ , ì—ëŸ¬ ë°œìƒ ì‹œ ì—ëŸ¬ ë‚´ìš©ì„ ì½˜ì†”ì— í‘œì‚¬í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ë©°, ì½”ë“œ ì‹¤í–‰ ì‹œê°„ì„ ì•Œì•„ë³´ë ¤ê³  í•  ë•Œë„ ì‚¬ìš©í•œë‹¤. ëŒ€í‘œì ìœ¼ë¡œ `console.log` ë©”ì†Œë“œê°€ ìˆë‹¤. `console.log`ëŠ” ì§€ê¸ˆê» ê³„ì† ì‚¬ìš©í–ˆìœ¼ë¯€ë¡œ ìµìˆ™í•  ê²ƒì´ë‹¤. ë‹¤ë¥¸ ë¡œê¹… í•¨ìˆ˜ë„ ì•Œì•„ë³´ì.

> console.js

```js
const string = "abc";
const number = 1;
const boolean = true;
const obj = {
  outside: {
    inside: {
      key: "value",
    },
  },
};

console.time("ì „ì²´ ì‹œê°„");
console.log("í‰ë²”í•œ ë¡œê·¸ì…ë‹ˆë‹¤ ì‰¼í‘œë¡œ êµ¬ë¶„í•´ ì—¬ëŸ¬ ê°’ì„ ì°ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤");
console.log(string, number, boolean);
console.error("ì—ëŸ¬ ë©”ì‹œì§€ëŠ” console.errorì— ë‹´ì•„ì£¼ì„¸ìš”");

console.table([
  { name: "sangmin", birth: 1996 },
  { name: "hero", birth: 1988 },
]);

console.dir(obj, { colors: false, depth: 2 });
console.dir(obj, { colors: true, depth: 1 });

console.time("ì‹œê°„ ì¸¡ì •");
for (let i = 0; i < 100000; i++) {}
console.timeEnd("ì‹œê°„ ì¸¡ì •");

function b() {
  console.trace("ì—ëŸ¬ ìœ„ì¹˜ ì¶”ì ");
}
function a() {
  b();
}
a();
console.timeEnd("ì „ì²´ ì‹œê°„");
```

- console.time(ë ˆì´ë¸”): console.timeEnd(ë ˆì´ë¸”)ê³¼ ëŒ€ì‘ë˜ì–´ ê°™ì€ ë ˆì´ë¸”ì„ ê°€ì§„ timeê³¼ timeEnd ì‚¬ì´ì˜ ì‹œê°„ì„ ì¸¡ì •í•œë‹¤.
- console.log(ë‚´ìš©): í‰ë²”í•œ ë¡œê·¸ë¥¼ ì½˜ì†”ì— í‘œì‹œí•œë‹¤. `console.log(ë‚´ìš©, ë‚´ìš©, ...)` ì²˜ëŸ¼ ì—¬ëŸ¬ ë‚´ìš©ì„ ë™ì‹œì— í‘œì‹œí•  ìˆ˜ë„ ìˆë‹¤.
- console.error(ì—ëŸ¬ ë‚´ìš©): ì—ëŸ¬ë¥¼ ì½˜ì†”ì— í‘œì‹œí•œë‹¤.
- console.table(ë°°ì—´): ë°°ì—´ì— ìš”ì†Œë¡œ ê°ì²´ ë¦¬í„°ëŸ´ì„ ë„£ìœ¼ë©´, ê°ì²´ì˜ ì†ì„±ë“¤ì´ í…Œì´ë¸” í˜•ì‹ìœ¼ë¡œ í‘œí˜„ëœë‹¤.
- console.dir(ê°ì²´, ì˜µì…˜): ê°ì²´ë¥¼ ì½˜ì†”ì— í‘œì‹œí•  ë•Œ ì‚¬ìš©í•œë‹¤. ì²« ë²ˆì§¸ ì¸ìˆ˜ë¡œ í‘œì‹œí•  ê°ì²´ë¥¼ ë„£ê³ , ë‘ ë²ˆì§¸ ì¸ìˆ˜ë¡œ ì˜µì…˜ì„ ë„£ëŠ”ë‹¤. ì˜µì…˜ì˜ colorsë¥¼ trueë¡œ í•˜ë©´ ì½˜ì†”ì— ìƒ‰ì´ ì¶”ê°€ë˜ì–´ ë³´ê¸°ê°€ í•œê²° í¸í•´ì§„ë‹¤. depthëŠ” ê°ì²´ ì•ˆì˜ ê°ì²´ë¥¼ ëª‡ ë‹¨ê³„ê¹Œì§€ ë³´ì—¬ì¤„ì§€ë¥¼ ê²°ì •í•œë‹¤. ê¸°ë³¸ê°’ì€ 2ì´ë‹¤.
- console.trace(ë ˆì´ë¸”): ì—ëŸ¬ê°€ ì–´ë””ì„œ ë°œìƒí•˜ëŠ”ì§€ ì¶”ì í•  ìˆ˜ ìˆê²Œ í•œë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì—ëŸ¬ ë°œìƒ ì‹œ ì—ëŸ¬ ìœ„ì¹˜ë¥¼ ì•Œë ¤ì£¼ë¯€ë¡œ ìì£¼ ì‚¬ìš©í•˜ì§€ëŠ” ì•Šì§€ë§Œ, ìœ„ì¹˜ê°€ ë‚˜ì˜¤ì§€ ì•ŠëŠ”ë‹¤ë©´ ì‚¬ìš©í•  ë§Œ í•˜ë‹¤.

ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ì½˜ì†”ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ í‘œì‹œëœë‹¤. ë‹¨, `console.time`ì˜ ì‹œê°„ì´ë‚˜ `console.trace`ì˜ ê²½ë¡œëŠ” ì‚¬ìš©ìì˜ ì»´í“¨í„° í™˜ê²½ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤.

> ì½˜ì†”

```
$ node console
í‰ë²”í•œ ë¡œê·¸ì…ë‹ˆë‹¤ ì‰¼í‘œë¡œ êµ¬ë¶„í•´ ì—¬ëŸ¬ ê°’ì„ ì°ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤
abc 1 true
ì—ëŸ¬ ë©”ì‹œì§€ëŠ” console.errorì— ë‹´ì•„ì£¼ì„¸ìš”
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”
â”‚ (index) â”‚   name    â”‚ birth â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    0    â”‚ 'sangmin' â”‚ 1996  â”‚
â”‚    1    â”‚  'hero'   â”‚ 1988  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜
{ outside: { inside: { key: 'value' } } }
{ outside: { inside: [Object] } }
ì‹œê°„ ì¸¡ì •: 3.666ms
Trace: ì—ëŸ¬ ìœ„ì¹˜ ì¶”ì 
    at b (/Users/sangminpark/Desktop/2021/JavaScript/Node.js/console.js:30:11)
    at a (/Users/sangminpark/Desktop/2021/JavaScript/Node.js/console.js:33:3)
    at Object.<anonymous> (/Users/sangminpark/Desktop/2021/JavaScript/Node.js/console.js:35:1)
    at Module._compile (internal/modules/cjs/loader.js:1063:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1092:10)
    at Module.load (internal/modules/cjs/loader.js:928:32)
    at Function.Module._load (internal/modules/cjs/loader.js:769:14)
    at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:72:12)
    at internal/main/run_main_module.js:17:47
ì „ì²´ ì‹œê°„: 19.517ms
```

í¸ë¦¬í•œ ë””ë²„ê¹…ì„ ìœ„í•´ console ê°ì²´ì—ëŠ” ì§€ê¸ˆë„ ìƒˆë¡œìš´ ë©”ì†Œë“œë“¤ì´ ì¶”ê°€ë˜ê³  ìˆë‹¤. ì‹¤ì œë¡œëŠ” console.jsì—ì„œ ì†Œê°œí•œ ë©”ì†Œë“œë³´ë‹¤ ë” ë‹¤ì–‘í•œ ë©”ì†Œë“œê°€ ìˆë‹¤.

#### 3-4-3. íƒ€ì´ë¨¸

íƒ€ì´ë¨¸ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” í•¨ìˆ˜ì¸ `setTimeout`, `setInterval`, `setImmediate`ëŠ” ë…¸ë“œì—ì„œ window ëŒ€ì‹  global ê°ì²´ ì•ˆì— ë“¤ì–´ìˆë‹¤. `setTimeout`ê³¼ `setInterval`ì€ ì›¹ ë¸Œë¼ìš°ì €ì—ì„œë„ ìì£¼ ì‚¬ìš©ë˜ë¯€ë¡œ ìµìˆ™í•  ê²ƒì´ë‹¤.

- setTimeout(ì½œë°± í•¨ìˆ˜, ë°€ë¦¬ì´ˆ): ì£¼ì–´ì§„ ë°€ë¦¬ì´ˆ(1/1000ì´ˆ) ì´í›„ì— ì½œë°± í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•œë‹¤.
- setInterval(ì½œë°± í•¨ìˆ˜, ë°€ë¦¬ì´ˆ): ì£¼ì–´ì§„ ë°€ë¦¬ì´ˆë§ˆë‹¤ ì½œë°± í•¨ìˆ˜ë¥¼ ë°˜ë³µ ì‹¤í–‰í•œë‹¤.
- setImmediate(ì½œë°± í•¨ìˆ˜): ì½œë°± í•¨ìˆ˜ë¥¼ ì¦‰ì‹œ ì‹¤í–‰í•œë‹¤.

ì´ íƒ€ì´ë¨¸ í•¨ìˆ˜ë“¤ì€ ëª¨ë‘ ì•„ì´ë””ë¥¼ ë°˜í™˜í•œë‹¤. ì•„ì´ë””ë¥¼ ì‚¬ìš©í•˜ì—¬ íƒ€ì´ë¨¸ë¥¼ ì·¨ì†Œí•  ìˆ˜ ìˆë‹¤.

- clearTimeout(ì•„ì´ë””): setTimeoutì„ ì·¨ì†Œí•œë‹¤.
- clearInterval(ì•„ì´ë””): setIntervalì„ ì·¨ì†Œí•œë‹¤.
- clearImmediate(ì•„ì´ë””): setImmediateë¥¼ ì·¨ì†Œí•œë‹¤.

ë‹¤ìŒì€ ìœ„ ë©”ì†Œë“œë“¤ì„ ì‚¬ìš©í•œ ì½”ë“œì´ë‹¤. ì½”ë“œì˜ ì‹¤í–‰ ìˆœì„œë¥¼ ì˜ˆì¸¡í•´ë³´ì.

> timer.js

```js
const timeout = setTimeout(() => {
  console.log("1.5ì´ˆ í›„ ì‹¤í–‰");
}, 1500);

const interval = setInterval(() => {
  console.log("1ì´ˆë§ˆë‹¤ ì‹¤í–‰");
}, 1000);

const timeout2 = setTimeout(() => {
  console.log("ì‹¤í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤");
}, 3000);

setTimeout(() => {
  clearTimeout(timeout2);
  clearInterval(interval);
}, 2500);

const immediate = setImmediate(() => {
  console.log("ì¦‰ì‹œ ì‹¤í–‰");
});

const immediate2 = setImmediate(() => {
  console.log("ì‹¤í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤");
});

clearImmediate(immediate2);
```

ìš°ì„ , ì œì¼ ë¨¼ì € ì‹¤í–‰ë˜ëŠ” ê²ƒì€ immediateì´ë‹¤. immediate2ëŠ” ë°”ë¡œ clearImmediateë¥¼ ì‚¬ìš©í•´ì„œ ì·¨ì†Œí–ˆìœ¼ë¯€ë¡œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤. ì½”ë“œ ì‹¤í–‰ 1ì´ˆ í›„ì—ëŠ” intervalì˜ ì½œë°±ì´ ì‹¤í–‰ëœë‹¤. ì½”ë“œ ì‹¤í–‰ 1.5ì´ˆ í›„ì—ëŠ” timeoutì˜ ì½œë°±ì´ ì‹¤í–‰ë  ê²ƒì´ë‹¤. itervalì˜ ì½œë°±ì€ 1ì´ˆë§ˆë‹¤ ì‹¤í–‰ë˜ë¯€ë¡œ ì½”ë“œ ì‹¤í–‰ í›„ 2ì´ˆê°€ ì§€ë‚¬ì„ ë•Œë„ ì½œë°±ì´ ì‹¤í–‰ëœë‹¤. 2.5ì´ˆê°€ ì§€ë‚¬ì„ ë•Œ clearTimeoutê³¼ clearIntervalì´ ê°ê° timeout2ì™€ intervalì„ ì·¨ì†Œí•œë‹¤. ë”°ë¼ì„œ ì½”ë“œ ì‹¤í–‰ 3ì´ˆ í›„ì—ëŠ” ë¡œê·¸ê°€ ì•„ë¬´ê²ƒë„ ë‚¨ì§€ ì•ŠëŠ”ë‹¤.

> Note: setImmediate(ì½œë°±)ê³¼ setTimeout(ì½œë°±, 0)
>
> setImmediate(ì½œë°±)ê³¼ setTimeout(ì½œë°±, 0)ì— ë‹´ê¸´ ì½œë°± í•¨ìˆ˜ëŠ” ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ ê±°ì¹œ ë’¤ ì¦‰ì‹œ ì‹¤í–‰ëœë‹¤. ë‘˜ì˜ ì°¨ì´ì ì€ ë¬´ì—‡ì¼ê¹Œ? íŠ¹ìˆ˜í•œ ê²½ìš°ì— setImmediateëŠ” setTimeout(ì½œë°±, 0)ë³´ë‹¤ ë¨¼ì € ì‹¤í–‰ëœë‹¤. íŒŒì¼ ì‹œìŠ¤í…œ ì ‘ê·¼, ë„¤íŠ¸ì›Œí‚¹ê°™ì€ I/O ì‘ì—…ì˜ ì½œë°± í•¨ìˆ˜ ì•ˆì—ì„œ íƒ€ì´ë¨¸ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²½ìš°ì´ë‹¤. í•˜ì§€ë§Œ setImmediateê°€ í•­ìƒ setTimeout(ì½œë°±, 0)ë³´ë‹¤ ë¨¼ì € í˜¸ì¶œë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤ëŠ” ì‚¬ì‹¤ë§Œ ì•Œì•„ë‘ì. í—·ê°ˆë¦¬ì§€ ì•Šë„ë¡ setTimeout(ì½œë°±, 0)ì€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤.

#### 3-4-4. **filename, **dirname

ë…¸ë“œì—ì„œëŠ” íŒŒì¼ ì‚¬ì´ì— ëª¨ë“ˆ ê´€ê³„ê°€ ìˆëŠ” ê²½ìš°ê°€ ë§ìœ¼ë¯€ë¡œ ë•Œë¡œëŠ” í˜„ì¬ì˜ íŒŒì¼ ê²½ë¡œë‚˜ íŒŒì¼ëª…ì„ ì•Œì•„ì•¼ í•œë‹¤. ë…¸ë“œëŠ” `__filename`, `__dirname`ì´ë¼ëŠ” í‚¤ì›Œë“œë¡œ ê²½ë¡œì— ëŒ€í•œ ì •ë³´ë¥¼ ì œê³µí•œë‹¤. íŒŒì¼ì— `__filename`ê³¼ `__dirname`ì„ ë„£ì–´ë‘ë©´ ì‹¤í–‰ ì‹œ í˜„ì¬ íŒŒì¼ëª…ê³¼ í˜„ì¬ íŒŒì¼ ê²½ë¡œë¡œ ë°”ë€ë‹¤.

> filename.js

```js
console.log(__filename);
console.log(__dirname);
```

> ì½˜ì†”

```
$ node filename.js
/Users/sangminpark/Desktop/2021/JavaScript/Node.js/timer.js
/Users/sangminpark/Desktop/2021/JavaScript/Node.js
```

ê²½ë¡œëŠ” ê°ìì˜ ê²½ë¡œë¡œ ë‚˜ì˜¬ ê²ƒì´ë‹¤. ë˜í•œ, ìœˆë„ìš°ê°€ ì•„ë‹ˆë¼ë©´ \ëŒ€ì‹  /ë¡œ í´ë” ê²½ë¡œê°€ êµ¬ë¶„ë  ìˆ˜ ìˆë‹¤. ì´ë ‡ê²Œ ì–»ì€ ì •ë³´ë¥¼ ì‚¬ìš©í•´ì„œ ê²½ë¡œ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ë„ ìˆë‹¤. í•˜ì§€ë§Œ ê²½ë¡œê°€ ë¬¸ìì—´ë¡œ ë³€í™˜ë˜ê¸°ë„ í•˜ê³ , \ë‚˜ /ê°™ì€ ê²½ë¡œ êµ¬ë¶„ì ë¬¸ì œë„ ìˆìœ¼ë¯€ë¡œ ë³´í†µì€ ì´ë¥¼ í•´ê²°í•´ì£¼ëŠ” path ëª¨ë“ˆ(3.5.2)ê³¼ í•¨ê»˜ ì“´ë‹¤.

#### 3-4-5. module, exports, require

ì§€ê¸ˆê¹Œì§€ëŠ” ëª¨ë“ˆì„ ë§Œë“¤ ë•Œ `module.exports`ë§Œ ì‚¬ìš©í–ˆëŠ”ë°, module ê°ì²´ ë§ê³  exports ê°ì²´ë¡œë„ ëª¨ë“ˆì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

3.3ì˜ var.jsë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•´ë„ index.jsì—ì„œëŠ” ë™ì¼í•˜ê²Œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤.

> var.js

```js
exports.odd = "í™€ìˆ˜";
exports.even = "ì§ìˆ˜";
```

> ì½˜ì†”

```
$ node index
ì§ìˆ˜
í™€ìˆ˜
```

`module.exports`ë¡œ í•œ ë²ˆì— ëŒ€ì…í•˜ëŠ” ëŒ€ì‹ , ê°ê°ì˜ ë³€ìˆ˜ë¥¼ exports ê°ì²´ì— í•˜ë‚˜ì”© ë„£ì—ˆë‹¤. ë™ì¼í•˜ê²Œ ë™ì‘í•˜ëŠ” ì´ìœ ëŠ” `module.exports`ì™€ exportsê°€ ê°™ì€ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì‹¤ì œë¡œ `console.log(module.exports === exports)`ë¥¼ í•˜ë©´ trueê°€ ë‚˜ì˜¨ë‹¤. ë”°ë¼ì„œ exports ê°ì²´ì— add í•¨ìˆ˜ë¥¼ ë„£ìœ¼ë©´ `module.exports`ì—ë„ add í•¨ìˆ˜ê°€ ë“¤ì–´ê°„ë‹¤.

> **ğŸš«Warning: exports ê°ì²´ ì‚¬ìš© ì‹œ**
>
> exports ê°ì²´ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” `module.exports`ì™€ì˜ ì°¸ì¡° ê´€ê³„ê°€ ê¹¨ì§€ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì•¼ í•œë‹¤. `module.exports`ì—ëŠ” ì–´ë–¤ ê°’ì´ë“  ëŒ€ì…í•´ë„ ë˜ì§€ë§Œ, exportsì—ëŠ” ë°˜ë“œì‹œ ê°ì²´ì²˜ëŸ¼ ì†ì„±ëª…ê³¼ ì†ì„±ê°’ì„ ëŒ€ì…í•´ì•¼ í•œë‹¤. exportsì— ë‹¤ë¥¸ ê°’ì„ ëŒ€ì…í•˜ë©´ ê°ì²´ì˜ ì°¸ì¡° ê´€ê³„ê°€ ëŠê²¨ ë”ì´ìƒ ëª¨ë“ˆë¡œ ê¸°ëŠ¥í•˜ì§€ ì•ŠëŠ”ë‹¤.
> exportsë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ê°ì²´ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ func.jsì™€ ê°™ì´ `module.exports`ì— í•¨ìˆ˜ë¥¼ ëŒ€ì…í•œ ê²½ìš°ì—ëŠ” exportsë¡œ ë°”ê¿€ ìˆ˜ ì—†ë‹¤.
> exportsì™€ `module.exports`ì—ëŠ” ì°¸ì¡° ê´€ê³„ê°€ ìˆìœ¼ë¯€ë¡œ í•œ ëª¨ë“ˆì— exports ê°ì²´ì™€ `module.exports`ë¥¼ ë™ì‹œì— ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤.

> Note: ë…¸ë“œì—ì„œ thisëŠ” ë¬´ì—‡ì¼ê¹Œ?
>
> ë…¸ë“œì—ì„œ thisë¥¼ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•´ì•¼ í•  ì ì´ ìˆë‹¤.
>
> this.js
>
> ```js
> console.log(this);
> console.log(this === module.exports);
> console.log(this === exports);
> whatIsThis = () => {
>   console.log("function", this === exports, this === global);
> };
> whatIsThis();
> ```
>
> ì½˜ì†”
>
> ```
> $ node this
> {}
> true
> true
> function false true
> ```
>
> ë‹¤ë¥¸ ë¶€ë¶„ì€ ë¸Œë¼ìš°ì €ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ì™€ ë™ì¼í•˜ì§€ë§Œ ìµœìƒìœ„ ìŠ¤ì½”í”„ì— ì¡´ì¬í•˜ëŠ” thisëŠ” `module.exports`(ë˜ëŠ” exports ê°ì²´)ë¥¼ ê°€ë¦¬í‚¨ë‹¤. ë˜í•œ, í•¨ìˆ˜ ì„ ì–¸ë¬¸ ë‚´ë¶€ì˜ thisëŠ” global ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
