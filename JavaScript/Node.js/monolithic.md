<Node.js 마이크로서비스 코딩 공작소>를 요약함과 동시에 제 나름대로의 생각을 적은 글입니다.

# Node.js

## 1. 모놀리식 아키텍처

### 1-1. 모놀리식 아키텍처란

모놀리식(`monolithic`) 아키텍처는 널리 활용하는 전통적인 아키텍처로, 하나의 어플리케이션 안에 모든 컴포넌트를 포함하는 구조이다. 구조가 단순해 개발과 배포가 간편하다는 장점이 있다.

모놀리식 아키텍처를 이해하면 마이크로서비스(`microservice`) 아키텍처를 더 쉽게 이해할 수 있다. 지금부터 모놀리식 아키텍처를 개발하는 과정을 단계별로 예를 들어 살펴볼 것이다.

다음 요구 사항이 있다고 가정하자.

```
1. 기업형 e-commerce를 개발해야 한다.
2. 소수의 인원으로 개발팀이 구성되었다.
3. 아직은 사용자가 많지 않다.
4. 비교적 단순한 형태의 회원 관리, 상품 관리, 구매 관리 기능이 필요하다.
```

요구 사항을 보니, 비교적 형태가 단순한 시스템이다. 특별히 고려할 만한 예외적 요소가 없으므로 일반적인 형태의 개발 과정을 생각해 보자.

1. **사용자 입력을 받을 수 있는 UI를 기획한다.**
2. **데이터를 관리할 수 있는 적절한 데이터베이스 스키마를 설계한다.**
3. **어플리케이션을 하나 만들고, 사용자 입력을 받는 로직과 비즈니스 로직, 데이터베이스에 저장하는 로직을 코드 하나로 개발한다.**

이 시스템은 하나의 어플리케이션으로 구성했기 때문에 배포하기 쉽고, 로드 밸런서를 활용해 어플리케이션의 인스턴스만 늘리면 부하 문제도 수월하게 해결할 수 있다. 하지만 초기 설계에서 고려하지 않았던 기능을 추가해야 하고, 기대보다 높은 수준의 분산 처리가 필요하다면 어떻게 해야 할까?

### 1-2. 모놀리식 아키텍처의 한계

모놀리식 아키텍처는 개발과 배포가 쉽다는 장점이 있지만, 일체형 시스템이라서 여러 한계가 있다.

- 분산 처리가 비효율적이다:
  - 모놀리식 아키텍처는 모든 기능을 프로세스 하나 또는 코드 베이스로 개발하기 때문에 기능별로 분산 처리를 할 수 없다. 항상 전체를 같이 분산해야 한다.
- 코드를 관리하기 어렵다:
  - 코드 구조가 하나이기에 새로운 코드를 추가하려면 전체 코드를 이해해야 하고 코드를 추가할수록 구조가 복잡해진다.
- 새로운 기술을 적용하기 어렵다:
  - 특정 기능에 새로운 기술을 적용하고 싶어도 기능별로 코드가 독립적이지 않아 적용하기 쉽지 않다.

이러한 한계 때문에 실제로 많은 기업에서 시간이 흐를수록 왜 시스템이 무거워지는지를 고민하고 있다.

### 1-3. 분산 아키텍처의 필요성

앞에서 언급한 여러 한계를 해결하려면 어떤 아키텍처가 필요할까?

    1. 코드 수정에 부담이 없어야 하고, 새로운 기능을 추가할 때는 기존 코드에 영향을 주지 않아야 한다.
    2. 필요한 기능만 분산 처리할 수 있어야 하고, 다른 기능에 결함이 발생해도 영향을 받지 않아야 한다.
    3. 기능별로 최적화된 기술을 적용할 수 있어야 하고, 각기 다른 기술로 작성한 코드가 유기적으로 동작해야 한다.

그동안 모놀리식 아키텍처에 있는 한계를 극복하고자 다양한 관점의 노력이 있었고, 이러한 노력의 결과로 최근 마이크로서비스가 등장했다. 다음 장에선 마이크로서비스 아키텍처가 모놀리식 아키텍처의 한계를 어떻게 극복했는지 알아보자.

### 1-4. 정리

#### 모놀리식 아키텍처

    • 널리 활용해 온 전통적인 아키텍처이다.
    • 하나의 어플리케이션 안에 모든 컴포넌트를 포함하는 구조이다.
    • 구조가 단순해 개발과 배포가 간편하다.

#### 모놀리식 아키텍처의 한계

    • 비효율적인 분산 전략이다.
    • 소스 코드가 거대해서 코드 수정이 부담스럽다.
    • 새로운 기술을 적용하기 어렵다.

#### 개선된 아키텍처의 요구 사항

    • 코드 구조가 독립적이어야 한다.
    • 기능별 분산 구조여야 한다.
    • 기능별 최적화된 기술 적용이 가능해야 한다.
